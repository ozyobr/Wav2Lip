(.venv) PS D:\lipsync\Wav2Lip> python inference.py --checkpoint_path checkpoints/wav2lip_gan.pth --face video1.mp4 --audio audio1.mp3 --outfile output.mp4
Using cpu for inference.
Reading video frames...
Number of frames available for inference: 563
Extracting raw audio...
ffmpeg version N-115162-gd7924a4f60-20240510 Copyright (c) 2000-2024 the FFmpeg developers
  built with gcc 13.2.0 (crosstool-NG 1.26.0.65_ecc5e41)
  configuration: --prefix=/ffbuild/prefix --pkg-config-flags=--static --pkg-config=pkg-config --cross-prefix=x86_64-w64-mingw32- --arch=x86_64 --target-os=mingw32 --enable-gpl --en
able-version3 --disable-debug --disable-w32threads --enable-pthreads --enable-iconv --enable-libxml2 --enable-zlib --enable-libfreetype --enable-libfribidi --enable-gmp --enable-fo
ntconfig --enable-libharfbuzz --enable-libvorbis --enable-opencl --disable-libpulse --enable-libvmaf --disable-libxcb --disable-xlib --enable-amf --enable-libaom --enable-libaribb2
4 --enable-avisynth --enable-chromaprint --enable-libdav1d --enable-libdavs2 --enable-libdvdread --enable-libdvdnav --disable-libfdk-aac --enable-ffnvcodec --enable-cuda-llvm --ena
ble-frei0r --enable-libgme --enable-libkvazaar --enable-libaribcaption --enable-libass --enable-libbluray --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librist --en
able-libssh --enable-libtheora --enable-libvpx --enable-libwebp --enable-lv2 --enable-libvpl --enable-openal --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenh
264 --enable-libopenjpeg --enable-libopenmpt --enable-librav1e --enable-librubberband --enable-schannel --enable-sdl2 --enable-libsoxr --enable-libsrt --enable-libsvtav1 --enable-l
ibtwolame --enable-libuavs3d --disable-libdrm --enable-vaapi --enable-libvidstab --enable-vulkan --enable-libshaderc --enable-libplacebo --enable-libx264 --enable-libx265 --enable-
libxavs2 --enable-libxvid --enable-libzimg --enable-libzvbi --extra-cflags=-DLIBTWOLAME_STATIC --extra-cxxflags= --extra-libs=-lgomp --extra-ldflags=-pthread --extra-ldexeflags= --cc=x86_64-w64-mingw32-gcc --cxx=x86_64-w64-mingw32-g++ --ar=x86_64-w64-mingw32-gcc-ar --ranlib=x86_64-w64-mingw32-gcc-ranlib --nm=x86_64-w64-mingw32-gcc-nm --extra-version=20240510
  libavutil      59. 17.100 / 59. 17.100
  libavcodec     61.  5.103 / 61.  5.103
  libavformat    61.  3.103 / 61.  3.103
  libavdevice    61.  2.100 / 61.  2.100
  libavfilter    10.  2.101 / 10.  2.101
  libswscale      8.  2.100 /  8.  2.100
  libswresample   5.  2.100 /  5.  2.100
  libpostproc    58.  2.100 / 58.  2.100
Input #0, mp3, from 'audio1.mp3':
  Metadata:
    major_brand     : mp42
    minor_version   : 0
    compatible_brands: isommp42
    encoder         : Lavf58.29.100
  Duration: 00:00:59.95, start: 0.023021, bitrate: 192 kb/s
  Stream #0:0: Audio: mp3 (mp3float), 48000 Hz, stereo, fltp, 192 kb/s
      Metadata:
        encoder         : Lavc58.54
Stream mapping:
  Stream #0:0 -> #0:0 (mp3 (mp3float) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to 'temp/temp.wav':
  Metadata:
    major_brand     : mp42
    minor_version   : 0
    compatible_brands: isommp42
    ISFT            : Lavf61.3.103
  Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, stereo, s16, 1536 kb/s
      Metadata:
        encoder         : Lavc61.5.103 pcm_s16le
[out#0/wav @ 000002e92828fcc0] video:0KiB audio:11236KiB subtitle:0KiB other streams:0KiB global headers:0KiB muxing overhead: 0.000678%
size=   11236KiB time=00:00:59.92 bitrate=1536.0kbits/s speed= 785x
(80, 4795)
Length of mel chunks: 1794
  0%|                                                                                                                                                       | 0/15 [00:00<?, ?it/s] 
  0%|                                                                                                                                                       | 0/36 [00:00<?, ?it/s] 
  3%|███▉                                                                                                                                           | 1/36 [00:52<30:51, 52.89s/it] 
  6%|███████▉                                                                                                                                       | 2/36 [01:29<27:16, 48.14s/it] 
  8%|███████████▉                                                                                                                                   | 3/36 [02:06<24:29, 44.52s/it] 
 11%|███████████████▉                                                                                                                               | 4/36 [02:42<22:23, 41.97s/it] 
 14%|███████████████████▊                                                                                                                           | 5/36 [03:17<20:45, 40.16s/it] 
 17%|███████████████████████▊                                                                                                                       | 6/36 [03:58<20:07, 40.25s/it] 
 19%|███████████████████████████▊                                                                                                                   | 7/36 [04:40<19:43, 40.81s/it] 
 22%|███████████████████████████████▊                                                                                                               | 8/36 [05:17<18:31, 39.71s/it] 
 25%|███████████████████████████████████▊                                                                                                           | 9/36 [05:55<17:40, 39.28s/it] 
 28%|███████████████████████████████████████▍                                                                                                      | 10/36 [06:34<16:56, 39.10s/it] 
 31%|███████████████████████████████████████████▍                                                                                                  | 11/36 [07:14<16:21, 39.27s/it] 
 33%|███████████████████████████████████████████████▎                                                                                              | 12/36 [07:52<15:31, 38.82s/it] 
 36%|███████████████████████████████████████████████████▎                                                                                          | 13/36 [08:29<14:39, 38.25s/it] 
 39%|███████████████████████████████████████████████████████▏                                                                                      | 14/36 [09:06<13:53, 37.89s/it] 
 42%|███████████████████████████████████████████████████████████▏                                                                                  | 15/36 [09:42<13:04, 37.33s/it] 
 44%|███████████████████████████████████████████████████████████████                                                                               | 16/36 [10:17<12:17, 36.89s/it] 
 47%|███████████████████████████████████████████████████████████████████                                                                           | 17/36 [10:54<11:36, 36.66s/it] 
 50%|███████████████████████████████████████████████████████████████████████                                                                       | 18/36 [11:32<11:08, 37.14s/it] 
 53%|██████████████████████████████████████████████████████████████████████████▉                                                                   | 19/36 [12:10<10:35, 37.39s/it] 
 56%|██████████████████████████████████████████████████████████████████████████████▉                                                               | 20/36 [12:46<09:53, 37.10s/it] 
 58%|██████████████████████████████████████████████████████████████████████████████████▊                                                           | 21/36 [13:22<09:12, 36.83s/it] 
 61%|██████████████████████████████████████████████████████████████████████████████████████▊                                                       | 22/36 [13:58<08:30, 36.46s/it] 
 64%|██████████████████████████████████████████████████████████████████████████████████████████▋                                                   | 23/36 [14:36<07:59, 36.85s/it] 
 67%|██████████████████████████████████████████████████████████████████████████████████████████████▋                                               | 24/36 [15:16<07:35, 37.93s/it] 
 69%|██████████████████████████████████████████████████████████████████████████████████████████████████▌                                           | 25/36 [15:53<06:52, 37.53s/it] 
 72%|██████████████████████████████████████████████████████████████████████████████████████████████████████▌                                       | 26/36 [16:29<06:11, 37.19s/it] 
 75%|██████████████████████████████████████████████████████████████████████████████████████████████████████████▌                                   | 27/36 [17:06<05:32, 36.95s/it] 
 78%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████▍                               | 28/36 [17:41<04:52, 36.57s/it] 
 81%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████▍                           | 29/36 [18:17<04:15, 36.44s/it] 
 83%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████▎                       | 30/36 [18:53<03:37, 36.19s/it] 
 86%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████▎                   | 31/36 [19:29<03:00, 36.14s/it] 
 89%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████▏               | 32/36 [20:05<02:24, 36.00s/it] 
 92%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████▏           | 33/36 [20:40<01:47, 35.81s/it] 
 94%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████        | 34/36 [21:16<01:11, 35.78s/it] 
 97%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████    | 35/36 [21:52<00:35, 35.83s/it] 
100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 36/36 [21:59<00:00, 36.65s/it] 
Load checkpoint from: checkpoints/wav2lip_gan.pth
Model loaded
100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 15/15 [24:06<00:00, 96.43s/it]
ffmpeg version N-115162-gd7924a4f60-20240510 Copyright (c) 2000-2024 the FFmpeg developers
  built with gcc 13.2.0 (crosstool-NG 1.26.0.65_ecc5e41)
  configuration: --prefix=/ffbuild/prefix --pkg-config-flags=--static --pkg-config=pkg-config --cross-prefix=x86_64-w64-mingw32- --arch=x86_64 --target-os=mingw32 --enable-gpl --en
able-version3 --disable-debug --disable-w32threads --enable-pthreads --enable-iconv --enable-libxml2 --enable-zlib --enable-libfreetype --enable-libfribidi --enable-gmp --enable-fo
ntconfig --enable-libharfbuzz --enable-libvorbis --enable-opencl --disable-libpulse --enable-libvmaf --disable-libxcb --disable-xlib --enable-amf --enable-libaom --enable-libaribb2
4 --enable-avisynth --enable-chromaprint --enable-libdav1d --enable-libdavs2 --enable-libdvdread --enable-libdvdnav --disable-libfdk-aac --enable-ffnvcodec --enable-cuda-llvm --ena
ble-frei0r --enable-libgme --enable-libkvazaar --enable-libaribcaption --enable-libass --enable-libbluray --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librist --en
able-libssh --enable-libtheora --enable-libvpx --enable-libwebp --enable-lv2 --enable-libvpl --enable-openal --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenh
264 --enable-libopenjpeg --enable-libopenmpt --enable-librav1e --enable-librubberband --enable-schannel --enable-sdl2 --enable-libsoxr --enable-libsrt --enable-libsvtav1 --enable-l
ibtwolame --enable-libuavs3d --disable-libdrm --enable-vaapi --enable-libvidstab --enable-vulkan --enable-libshaderc --enable-libplacebo --enable-libx264 --enable-libx265 --enable-
libxavs2 --enable-libxvid --enable-libzimg --enable-libzvbi --extra-cflags=-DLIBTWOLAME_STATIC --extra-cxxflags= --extra-libs=-lgomp --extra-ldflags=-pthread --extra-ldexeflags= --cc=x86_64-w64-mingw32-gcc --cxx=x86_64-w64-mingw32-g++ --ar=x86_64-w64-mingw32-gcc-ar --ranlib=x86_64-w64-mingw32-gcc-ranlib --nm=x86_64-w64-mingw32-gcc-nm --extra-version=20240510
  libavutil      59. 17.100 / 59. 17.100
  libavcodec     61.  5.103 / 61.  5.103
  libavformat    61.  3.103 / 61.  3.103
  libavdevice    61.  2.100 / 61.  2.100
  libavfilter    10.  2.101 / 10.  2.101
  libswscale      8.  2.100 /  8.  2.100
  libswresample   5.  2.100 /  5.  2.100
  libpostproc    58.  2.100 / 58.  2.100
[aist#0:0/pcm_s16le @ 000002ab20d29e00] Guessed Channel Layout: stereo
Input #0, wav, from 'temp/temp.wav':
  Metadata:
    encoder         : Lavf61.3.103
  Duration: 00:00:59.93, bitrate: 1536 kb/s
  Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, stereo, s16, 1536 kb/s
Input #1, avi, from 'temp/result.avi':
  Metadata:
    software        : Lavf58.20.100
  Duration: 00:00:59.80, start: 0.000000, bitrate: 1815 kb/s
  Stream #1:0: Video: mpeg4 (Simple Profile) (DIVX / 0x58564944), yuv420p, 1280x720 [SAR 1:1 DAR 16:9], 1809 kb/s, 30 fps, 30 tbr, 30 tbn
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 000002ab22a83900] -qscale is ignored, -crf is recommended.
[libx264 @ 000002ab22a83900] using SAR=1/1
[libx264 @ 000002ab22a83900] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 000002ab22a83900] profile High, level 3.1, 4:2:0, 8-bit
[libx264 @ 000002ab22a83900] 264 - core 164 - H.264/MPEG-4 AVC codec - Copyleft 2003-2024 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x1
13 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=18 lookahead_threads=3
 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'output.mp4':
  Metadata:
    encoder         : Lavf61.3.103
  Stream #0:0: Video: h264 (avc1 / 0x31637661), yuv420p(progressive), 1280x720 [SAR 1:1 DAR 16:9], q=2-31, 30 fps, 15360 tbn
      Metadata:
        encoder         : Lavc61.5.103 libx264
      Side data:
        cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: N/A
  Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 48000 Hz, stereo, fltp, 128 kb/s
      Metadata:
        encoder         : Lavc61.5.103 aac
[out#0/mp4 @ 000002ab20c8b9c0] video:4239KiB audio:931KiB subtitle:0KiB other streams:0KiB global headers:0KiB muxing overhead: 1.214939%
frame= 1794 fps=253 q=-1.0 Lsize=    5233KiB time=00:00:59.73 bitrate= 717.6kbits/s speed=8.42x
[libx264 @ 000002ab22a83900] frame I:8     Avg QP:17.35  size: 39135
[libx264 @ 000002ab22a83900] frame P:883   Avg QP:21.34  size:  3620
[libx264 @ 000002ab22a83900] frame B:903   Avg QP:24.96  size:   920
[libx264 @ 000002ab22a83900] consecutive B-frames: 25.8% 18.6%  7.9% 47.7%
[libx264 @ 000002ab22a83900] mb I  I16..4: 24.0% 67.0%  9.0%
[libx264 @ 000002ab22a83900] mb P  I16..4:  0.8%  2.9%  0.1%  P16..4: 15.7%  3.2%  1.3%  0.0%  0.0%    skip:76.0%
[libx264 @ 000002ab22a83900] mb B  I16..4:  0.1%  0.6%  0.0%  B16..8: 13.3%  0.6%  0.0%  direct: 0.1%  skip:85.3%  L0:51.1% L1:47.4% BI: 1.6%
[libx264 @ 000002ab22a83900] 8x8 transform intra:75.0% inter:86.5%
[libx264 @ 000002ab22a83900] coded y,uvDC,uvAC intra: 43.1% 49.1% 13.3% inter: 2.6% 3.3% 0.1%
[libx264 @ 000002ab22a83900] i16 v,h,dc,p: 54% 20% 15% 11%
[libx264 @ 000002ab22a83900] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 28% 24% 37%  2%  2%  2%  2%  2%  3%
[libx264 @ 000002ab22a83900] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 35% 29% 13%  3%  5%  4%  5%  3%  3%
[libx264 @ 000002ab22a83900] i8c dc,h,v,p: 43% 23% 30%  4%
[libx264 @ 000002ab22a83900] Weighted P-Frames: Y:0.0% UV:0.0%
[libx264 @ 000002ab22a83900] ref P L0: 71.9%  9.3% 13.8%  4.9%
[libx264 @ 000002ab22a83900] ref B L0: 82.5% 14.4%  3.0%
[libx264 @ 000002ab22a83900] ref B L1: 96.7%  3.3%
[libx264 @ 000002ab22a83900] kb/s:580.59
[aac @ 000002ab22ad6b80] Qavg: 671.261
